# Console LeetCode

Учебный клиент-серверный проект, реализующий консольный аналог платформы **LeetCode**.  
Проект предназначен для отработки сетевого программирования на C, многопоточности, очередей задач, демонизации серверных приложений и работы с файловой базой данных.

---

## Описание проекта

Проект состоит из **сервера** и **клиента**, взаимодействующих по TCP.

### Сервер:
- принимает подключения от клиентов;
- обрабатывает пользовательские запросы (регистрация, авторизация, задачи, решения);
- использует неблокирующий ввод-вывод;
- обрабатывает задачи через очереди с приоритетами;
- запускается как демон;
- хранит данные в файловой базе (`.bin` файлы).

### Клиент:
- консольное приложение;
- предоставляет меню взаимодействия с сервером;
- позволяет:
  - регистрироваться и авторизовываться,
  - получать список задач,
  - отправлять, проверять и получать проверенные решения (в зависимости от роли), 
  - редактировать задачи и тесты к ним (преподаватель).

---

## Архитектура проекта
```
console-leetcode/
├── Makefile
├── README.md
├── server.c 
├── client.c 
├── bin/                        // скомпилированные бинарники
└───│ source/
    ├── server_daemon.c         // демонизация сервера
    ├── database.c              // файловая БД (users / problems / solutions)
    ├── sha256.c                // хэширование паролей
    └───│ headers/                // все заголовки проекта
        ├── server.h
        ├── client.h
        ├── common.h
        ├── sha256.h
        └── uthash.h
```

## Используемые технологии

- Язык программирования: **C (POSIX)**
- Сетевое взаимодействие: **TCP sockets**
- Многопоточность: **pthread**
- Синхронизация: mutex, condition variable
- Хэширование паролей: **SHA-256**
- Демонизация сервера: double fork, pidfile
- Хранение данных: файловая БД (`.bin`)
- Сборка проекта: **Makefile**
- Целевая ОС: Linux

---

## Сборка и требования к окружению

### Требования

- ОС: **Linux**
- Компилятор: `gcc`
- Утилиты сборки: `make`
- Запуск сервера: **от имени root**
- Контейнеризация: **Docker**

---

### Установка Docker

Docker требуется для корректной работы и запуска серверной части проекта.

Установка, запуск и добавление в автозагрузку:
```bash
apt-get update
apt-get install docker.io
systemctl start docker
systemctl enable docker
```

## Запуск и сборка проекта

⚠️ **Важно:**  
Запуск сервера и работа с Docker должны выполняться **от имени пользователя `root`**.

---

### Сборка проекта

Сборка сервера и клиента:
```bash
make
```
После сборки бинарные файлы будут размещены в каталоге bin/:
```bash
bin/server
bin/client
```

### Запуск проекта
Запуск сервера
```bash
sudo make run_server
```
или напрямую:
```bash
sudo ./bin/server
```

Запуск клиента
```bash
make run_client
```
или напрямую:
```bash
./bin/client
```
---

## Очистка проекта
Простая очистка проекта:
```bash
make clean
```
Выполняемые действия:
- корректная остановка сервера по PID;
- удаление скомпилированных бинарников;
- удаление PID-файла и логов.

Полная очистка проекта вместе с базой данных:
```bash
make clean_all
```
---
